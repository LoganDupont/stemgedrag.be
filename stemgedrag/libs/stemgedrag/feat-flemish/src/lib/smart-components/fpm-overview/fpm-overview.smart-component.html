<div class="page-container">
  @if (!isActiveFpMembersLoading()) {
  <mat-form-field class="full-width" appearance="outline">
    <mat-icon matPrefix>search</mat-icon>
    <input
      matInput
      placeholder="Zoek hier uw Vlaamse volksvertegenwoordiger"
      [(ngModel)]="searchValue"
    />
    @if (searchValue()) {
    <button
      matSuffix
      mat-icon-button
      aria-label="Clear"
      (click)="searchValue.set('')"
    >
      <mat-icon>close</mat-icon>
    </button>
    }
  </mat-form-field>
  <div class="container">
    @for ( activeFlemishParliamentMember of filteredActiveFpMembers() ; track
    activeFlemishParliamentMember.volksvertegenwoordiger.id) {
    <mat-card
      class="item"
      [routerLink]="activeFlemishParliamentMember.volksvertegenwoordiger.id"
    >
      <mat-card-header>
        <img
          mat-card-avatar
          [ngSrc]="activeFlemishParliamentMember.volksvertegenwoordiger.fotowebpath || 'unkown'"
          width="40"
          height="40"
        />
        <mat-card-title>
          {{ activeFlemishParliamentMember.volksvertegenwoordiger.voornaam }} {{
          activeFlemishParliamentMember.volksvertegenwoordiger.naam}}
        </mat-card-title>
        <mat-card-subtitle>
          {{activeFlemishParliamentMember.volksvertegenwoordiger.fractie.naam}}
        </mat-card-subtitle>
      </mat-card-header>
    </mat-card>
    } @empty {
    <p>Er zijn geen Vlaamse volksvertegenwoordigers gevonden.</p>
    }
  </div>
  } @else {
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  }
</div>
